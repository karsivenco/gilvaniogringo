<!-- CONTATO.HTML -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cadastro - Intranet do Gringo</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

  <!-- Header padrão -->
  <header class="flex justify-between items-center bg-[#09679c] text-white p-4 shadow-md">
    <div class="flex items-center gap-3">
      <img src="img/logo.png" alt="Logo Gringo" class="h-10 w-auto" />
      <h1 class="text-xl font-bold">Cadastro</h1>
    </div>
    <nav id="mainMenu" class="flex items-center gap-3"></nav>
  </header>

  <!-- Conteúdo principal -->
  <main class="flex-grow p-6 max-w-lg mx-auto">
    <h2 class="text-2xl font-bold mb-4 text-[#005075]">Cadastrar Novo Contato</h2>
    <form id="formCadastro" class="bg-white p-6 rounded shadow space-y-4" method="POST" action="salvar_contato.php">

      <!-- Nome -->
      <div>
        <label for="nome" class="block mb-1 font-semibold text-gray-700">Nome</label>
        <input type="text" id="nome" name="nome" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#09679c]" placeholder="Nome completo" required />
      </div>

      <!-- Número -->
      <div>
        <label for="numero" class="block mb-1 font-semibold text-gray-700">Número (com DDI + DDD)</label>
        <input type="tel" id="numero" name="numero" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#09679c]" pattern="^\+?\d{10,15}$" required />
      </div>

      <!-- Endereço -->
      <div>
        <label for="endereco" class="block mb-1 font-semibold text-gray-700">Endereço (opcional)</label>
        <input type="text" id="endereco" name="endereco" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#09679c]" placeholder="Rua, número, bairro, cidade" />
      </div>

      <!-- Origem do contato -->
      <div>
        <label for="origem" class="block mb-1 font-semibold text-gray-700">Origem do contato</label>
        <select id="origem" name="origem" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#09679c]" required>
          <option value="">Selecione a origem</option>
          <option value="Instagram">Instagram</option>
          <option value="WhatsApp">WhatsApp</option>
          <option value="Facebook">Facebook</option>
          <option value="TikTok">TikTok</option>
          <option value="Kwai">Kwai</option>
          <option value="YouTube">YouTube</option>
          <option value="Abaixo Assinado">Abaixo Assinado</option>
          <option value="Cartão de Visita">Cartão de Visita</option>
          <option value="Gabinete">Gabinete</option>
          <option value="Direto Gringo">Direto Gringo</option>
        </select>
      </div>

      <!-- Select Município -->
      <div>
        <label for="municipio" class="block mb-1 font-semibold text-gray-700">Município</label>
        <select id="municipio" name="municipio" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#09679c]" required></select>
      </div>

      <!-- Select Bairro de Porto Alegre -->
      <div id="bairroContainer" class="hidden">
        <label for="bairro" class="block mb-1 font-semibold text-gray-700">Bairro (Porto Alegre)</label>
        <select id="bairro" name="bairro" class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#09679c]"></select>
      </div>

      <button type="submit" class="w-full bg-[#09679c] text-white font-semibold py-2 rounded hover:bg-[#074d6b] transition">Cadastrar</button>
    </form>
    <p id="msgStatus" class="mt-4 text-center text-sm font-semibold"></p>
  </main>

  <!-- Scripts externos -->
  <script src="menu.js"></script>
  <script src="municipios.js"></script>
  <script src="bairros.js"></script>
  <script>
    // Preencher municípios
    const municipioSelect = document.getElementById("municipio");
    const bairroSelect = document.getElementById("bairro");
    const bairroContainer = document.getElementById("bairroContainer");

    municipios.forEach(m => {
      const option = document.createElement("option");
      option.value = m;
      option.textContent = m;
      municipioSelect.appendChild(option);
    });

    // Mostrar bairros só se Porto Alegre for selecionado
    municipioSelect.addEventListener("change", function() {
      if (this.value === "Porto Alegre") {
        bairroContainer.classList.remove("hidden");
        bairroSelect.innerHTML = "";
        bairrosPOA.forEach(b => {
          const option = document.createElement("option");
          option.value = b;
          option.textContent = b;
          bairroSelect.appendChild(option);
        });
      } else {
        bairroContainer.classList.add("hidden");
        bairroSelect.innerHTML = "";
      }
    });
  </script>
</body>
</html>
